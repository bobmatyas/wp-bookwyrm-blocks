(()=>{"use strict";function e(e){const t=document.createElement("p");t.textContent="⚠️ Sorry, there has been an error fetching the feed.",t.style.fontWeight="bold";const o=document.querySelector(e);document.querySelector(e).style.display="block",o.appendChild(t)}!function(){const t=document.querySelector(".wp-block-bookwyrm-blocks-bookwyrm-read-block");let o=t.getAttribute("data-user"),r=t.getAttribute("data-instance").replace(/(http(s)?:\/\/)|(\/+$)/g,"").replace(/\/+/g,"/");if(!o||""==o||null==o||!r||""==r||null==r)return void e("div.read--list");fetch(`https://corsproxy.io/?https%3A%2F%2F${r}%2Fuser%2F${o}%2Fshelf%2Fread.json?page=1`).then((e=>e.json())).then((e=>{e.orderedItems.forEach(c)})).catch((t=>{e("div.read--list")}));const c=e=>{let t=(e.isbn13,document.createElement("div"));t.classList.add(`book-${e.isbn13}`);let o="",r="";!0=="cover"in e?(o=`${e.cover.name}`,r=`${e.cover.name}`):(o="",r="");let c=`<img src=${l=e.isbn13,`https://covers.openlibrary.org/b/isbn/${l}-L.jpg`} width="150" height="225" alt="${o}" loading="lazy" class="bookwyrm-book-cover">`;var l;let s=n(r),i=`${e.title}`;t.innerHTML=`${c}<p class="bookwyrm-book-title"><cite>${i}</cite></b><br /> ${s}</p>`,document.querySelector(".read--list").appendChild(t)},n=e=>""===e?"":`by ${e.match(/^[^:]+/)[0]}`}()})();